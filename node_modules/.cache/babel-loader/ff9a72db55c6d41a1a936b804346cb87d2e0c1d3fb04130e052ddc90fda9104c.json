{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\redwh\\\\Desktop\\\\\\uAC1C\\uBC1C\\\\stock\\\\stockter\\\\front\\\\src\\\\components\\\\SearchPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport axios from \"axios\";\nimport StockTable from \"./StockTable\";\nimport \"../styles/Common.css\";\nimport \"../styles/SearchPage.css\";\nimport { Bar } from \"react-chartjs-2\";\nimport \"chart.js/auto\"; // 자동 등록\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchPage = () => {\n  _s();\n  const [stocks, setStocks] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [highlightedStock, setHighlightedStock] = useState(null); // 상단 정보용 상태\n  const [filteredStocks, setFilteredStocks] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const dropdownRef = useRef(null);\n\n  // ========== (1) 연간 데이터 관련 상태 ==========\n  const [annualData, setAnnualData] = useState([]); // 연간 데이터 배열\n  const [annualLoading, setAnnualLoading] = useState(false); // 연간 데이터 로딩 상태\n  const [annualError, setAnnualError] = useState(\"\"); // 연간 데이터 오류 메시지\n  const [annualSelectedButton, setAnnualSelectedButton] = useState(\"\"); // 현재 선택된 연간 버튼\n\n  // ========== (2) 분기 데이터 관련 상태 ==========\n  const [quarterlyData, setQuarterlyData] = useState([]); // 분기별 데이터 배열\n  const [quarterlyLoading, setQuarterlyLoading] = useState(false); // 분기 데이터 로딩 상태\n  const [quarterlyError, setQuarterlyError] = useState(\"\"); // 분기 데이터 오류 메시지\n  const [quarterlySelectedButton, setQuarterlySelectedButton] = useState(\"\"); // 현재 선택된 분기 버튼\n\n  // 분기 라벨 매핑 객체 (예시: 필요시 수정)\n  const quarterLabelMap = {\n    \"2023.Q1\": \"2023-Q1\",\n    \"2023.Q2\": \"2023-Q2\",\n    \"2023.Q3\": \"2023-Q3\",\n    \"2023.Q4\": \"2023-Q4\"\n    // \"2023.Q5\": \"2024-Q1\", // 일반적인 분기 표기법에 맞게 수정\n    // \"2023.Q6\": \"2024-Q2\",\n  };\n\n  // 각각의 차트에 대한 ref (스크롤 용도)\n  const annualChartRef = useRef(null);\n  const quarterlyChartRef = useRef(null);\n\n  // ---------------------------\n  // (추가) 뉴스 관련 상태\n  // ---------------------------\n  const [newsList, setNewsList] = useState([]); // 뉴스 기사 목록\n  const [newsError, setNewsError] = useState(\"\"); // 뉴스 관련 에러메시지\n  const [newsLoading, setNewsLoading] = useState(false); // 뉴스 로딩 상태\n  const [showNews, setShowNews] = useState(false); // 뉴스 목록 표시 여부\n  const [newsPage, setNewsPage] = useState(1); // 현재 뉴스 페이지\n  const [totalNewsPages, setTotalNewsPages] = useState(0); // 총 뉴스 페이지 수\n\n  // 공백/쉼표 제거\n  const cleanValue = value => {\n    if (typeof value === \"string\") {\n      return value.replace(/[\\s,]+/g, \"\");\n    }\n    if (value === null || value === undefined) {\n      return \"N/A\";\n    }\n    return value;\n  };\n\n  // 퍼센트 단위인지 확인하는 함수\n  const isPercentage = buttonName => {\n    const percentageButtons = [\"영업이익률\", \"부채비율\"];\n    return percentageButtons.includes(buttonName);\n  };\n\n  // ---------------------------\n  // 1) 검색 함수\n  // ---------------------------\n  const fetchData = useCallback((searchQuery = query) => {\n    if (!searchQuery.trim()) {\n      setError(\"검색어를 입력하세요.\");\n      return;\n    }\n    setError(\"\");\n    setFilteredStocks([]);\n    setIsDropdownOpen(false);\n    axios.get(\"https://port-0-stockter-back-m5or7nt39f4a0f5c.sel4.cloudtype.app/data\", {\n      params: {\n        query: searchQuery\n      }\n    }).then(response => {\n      if (response.data.error || response.data.stocks.length === 0) {\n        setError(\"검색 결과가 없습니다.\");\n        setStocks([]);\n        setHighlightedStock(null);\n      } else {\n        const mappedData = response.data.stocks.map(stock => ({\n          ...stock,\n          매출액: cleanValue(stock[\"매출액\"]),\n          영업이익: cleanValue(stock[\"영업이익\"]),\n          영업이익률: cleanValue(stock[\"영업이익률\"]),\n          시가배당률: cleanValue(stock[\"시가배당률(%)\"]),\n          부채비율: cleanValue(stock[\"부채비율\"])\n        }));\n        setStocks(mappedData);\n        setHighlightedStock(mappedData[0] || null);\n      }\n    }).catch(error => {\n      console.error(\"데이터 로드 오류:\", error);\n      setError(\"서버와 연결할 수 없습니다.\");\n    });\n  }, [query]);\n\n  // ---------------------------\n  // 2) 자동완성 로직\n  // ---------------------------\n  const handleQueryChange = useCallback(e => {\n    const input = e.target.value;\n    setQuery(input);\n    if (input.trim() === \"\") {\n      setFilteredStocks([]);\n      setIsDropdownOpen(false);\n    } else {\n      axios.get(\"https://port-0-stockter-back-m5or7nt39f4a0f5c.sel4.cloudtype.app/data\", {\n        params: {\n          query: input\n        }\n      }).then(response => {\n        if (response.data.stocks) {\n          const lowercasedInput = input.toLowerCase();\n          const filtered = response.data.stocks.filter(stock => {\n            const stockCode = stock[\"종목코드\"].toString().toLowerCase();\n            const stockName = stock[\"종목명\"].toLowerCase();\n            return stockCode.includes(lowercasedInput) || stockName.includes(lowercasedInput);\n          });\n\n          // 입력값으로 시작하는 종목 우선 정렬\n          const startsWithQuery = filtered.filter(stock => {\n            const stockCode = stock[\"종목코드\"].toString().toLowerCase();\n            const stockName = stock[\"종목명\"].toLowerCase();\n            return stockCode.startsWith(lowercasedInput) || stockName.startsWith(lowercasedInput);\n          });\n          const others = filtered.filter(stock => {\n            const stockCode = stock[\"종목코드\"].toString().toLowerCase();\n            const stockName = stock[\"종목명\"].toLowerCase();\n            return !stockCode.startsWith(lowercasedInput) && !stockName.startsWith(lowercasedInput);\n          });\n\n          // 최대 10개까지만\n          setFilteredStocks([...startsWithQuery, ...others].slice(0, 10));\n          setIsDropdownOpen(true);\n        }\n      }).catch(error => {\n        console.error(\"자동완성 데이터 로드 오류:\", error);\n      });\n    }\n  }, []);\n  const handleSuggestionClick = useCallback(stock => {\n    setQuery(stock[\"종목명\"]);\n    setIsDropdownOpen(false);\n    setHighlightedStock(stock);\n    fetchData(stock[\"종목명\"]);\n  }, [fetchData]);\n  const handleKeyPress = useCallback(e => {\n    if (e.key === \"Enter\") {\n      fetchData();\n      setIsDropdownOpen(false);\n    }\n  }, [fetchData]);\n\n  // ---------------------------\n  // 3) 기타 이벤트 (리셋 등)\n  // ---------------------------\n  const resetState = useCallback(() => {\n    setQuery(\"\");\n    setStocks([]);\n    setFilteredStocks([]);\n    setError(\"\");\n    setIsDropdownOpen(false);\n    setHighlightedStock(null);\n\n    // 연간 / 분기 데이터도 모두 초기화\n    setAnnualData([]);\n    setAnnualLoading(false);\n    setAnnualError(\"\");\n    setAnnualSelectedButton(\"\");\n    setQuarterlyData([]);\n    setQuarterlyLoading(false);\n    setQuarterlyError(\"\");\n    setQuarterlySelectedButton(\"\");\n\n    // 뉴스 관련도 초기화\n    setNewsList([]);\n    setNewsError(\"\");\n    setNewsLoading(false);\n    setShowNews(false);\n    setNewsPage(1);\n    setTotalNewsPages(0);\n  }, []);\n  useEffect(() => {\n    const handleOutsideClick = e => {\n      if (dropdownRef.current && !dropdownRef.current.contains(e.target)) {\n        setIsDropdownOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleOutsideClick);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleOutsideClick);\n    };\n  }, []);\n  const highlightMatch = useCallback((text, query) => {\n    if (!query) return text;\n    const regex = new RegExp(`(${query})`, \"gi\"); // 백틱 추가\n    return text.replace(regex, match => `<span class=\"highlight\">${match}</span>`); // JSX 요소 대신 문자열 반환\n  }, []);\n\n  // ---------------------------\n  // 4) 연간 재무데이터 버튼 핸들러\n  // ---------------------------\n  const handleAnnualButtonClick = useCallback(async buttonName => {\n    if (annualLoading) {\n      console.warn(\"연간 데이터 로딩 중입니다. 잠시만 기다려주세요.\");\n      return;\n    }\n    if (!highlightedStock) {\n      setAnnualError(\"종목을 선택하지 않았습니다. 검색 후 선택해주세요.\");\n      return;\n    }\n    setAnnualLoading(true);\n    setAnnualError(\"\");\n    setAnnualData([]);\n    setAnnualSelectedButton(buttonName);\n\n    // 엔드포인트 결정\n    let endpoint = \"\";\n    if (buttonName === \"매출액\") {\n      endpoint = \"financial-annual-sales\";\n    } else if (buttonName === \"영업이익\") {\n      endpoint = \"financial-operating-profit\";\n    } else if (buttonName === \"영업이익률\") {\n      endpoint = \"financial-operating-income-rate\";\n    } else if (buttonName === \"순이익\") {\n      endpoint = \"financial-net-income\";\n    } else if (buttonName === \"부채비율\") {\n      endpoint = \"financial-debt-ratio\";\n    } else {\n      console.warn(\"지원되지 않는 버튼입니다(연간).\");\n      setAnnualLoading(false);\n      return;\n    }\n    try {\n      const response = await axios.get(`https://port-0-stockter-back-m5or7nt39f4a0f5c.sel4.cloudtype.app/${endpoint}`,\n      // 백틱 추가\n      {\n        params: {\n          stock_name: highlightedStock[\"종목명\"]\n        }\n      });\n      let data = null;\n      if (buttonName === \"매출액\" && response.data.annual_sales) {\n        data = response.data.annual_sales;\n      } else if (buttonName === \"영업이익\" && response.data.operating_profit) {\n        data = response.data.operating_profit;\n      } else if (buttonName === \"영업이익률\" && response.data.operating_income_rate) {\n        data = response.data.operating_income_rate;\n      } else if (buttonName === \"순이익\" && response.data.net_income) {\n        data = response.data.net_income;\n      } else if (buttonName === \"부채비율\" && response.data.debt_ratio) {\n        data = response.data.debt_ratio;\n      }\n      if (data && data.length > 0) {\n        setAnnualData(data);\n      } else {\n        setAnnualError(`${buttonName} 데이터가 없습니다.`); // 백틱 추가\n      }\n    } catch (error) {\n      console.error(\"연간 데이터 로드 오류:\", error);\n      setAnnualError(`${buttonName} 데이터를 가져오는 중 오류가 발생했습니다.`); // 백틱 추가\n    } finally {\n      setAnnualLoading(false);\n    }\n  }, [highlightedStock, annualLoading]);\n\n  // ---------------------------\n  // 5) 분기별 재무데이터 버튼 핸들러\n  // ---------------------------\n  const handleQuarterlyButtonClick = useCallback(async buttonName => {\n    if (quarterlyLoading) {\n      console.warn(\"분기별 데이터 로딩 중입니다. 잠시만 기다려주세요.\");\n      return;\n    }\n    if (!highlightedStock) {\n      setQuarterlyError(\"종목을 선택하지 않았습니다. 검색 후 선택해주세요.\");\n      return;\n    }\n    setQuarterlyLoading(true);\n    setQuarterlyError(\"\");\n    setQuarterlyData([]);\n    setQuarterlySelectedButton(buttonName);\n\n    // 엔드포인트 결정 (분기별)\n    let endpoint = \"\";\n    if (buttonName === \"매출액\") {\n      endpoint = \"financial-quarterly-sales\";\n    } else if (buttonName === \"영업이익\") {\n      endpoint = \"financial-quarterly-operating-profit\";\n    } else if (buttonName === \"영업이익률\") {\n      endpoint = \"financial-quarterly-operating-income-rate\";\n    } else if (buttonName === \"순이익\") {\n      endpoint = \"financial-quarterly-net-income\";\n    } else if (buttonName === \"부채비율\") {\n      endpoint = \"financial-quarterly-debt-ratio\";\n    } else {\n      console.warn(\"지원되지 않는 버튼입니다(분기).\");\n      setQuarterlyLoading(false);\n      return;\n    }\n    try {\n      const response = await axios.get(`https://port-0-stockter-back-m5or7nt39f4a0f5c.sel4.cloudtype.app/${endpoint}`,\n      // 백틱 추가\n      {\n        params: {\n          stock_name: highlightedStock[\"종목명\"]\n        }\n      });\n      let data = null;\n      if (buttonName === \"매출액\" && response.data.quarterly_sales) {\n        data = response.data.quarterly_sales;\n      } else if (buttonName === \"영업이익\" && response.data.quarterly_operating_profit) {\n        data = response.data.quarterly_operating_profit;\n      } else if (buttonName === \"영업이익률\" && response.data.quarterly_operating_income_rate) {\n        data = response.data.quarterly_operating_income_rate;\n      } else if (buttonName === \"순이익\" && response.data.quarterly_net_income) {\n        data = response.data.quarterly_net_income;\n      } else if (buttonName === \"부채비율\" && response.data.quarterly_debt_ratio) {\n        data = response.data.quarterly_debt_ratio;\n      }\n      if (data && data.length > 0) {\n        setQuarterlyData(data);\n      } else {\n        setQuarterlyError(`${buttonName} 분기별 데이터가 없습니다.`); // 백틱 추가\n      }\n    } catch (error) {\n      console.error(\"분기별 데이터 로드 오류:\", error);\n      setQuarterlyError(`${buttonName} 분기별 데이터를 가져오는 중 오류가 발생했습니다.`); // 백틱 추가\n    } finally {\n      setQuarterlyLoading(false);\n    }\n  }, [highlightedStock, quarterlyLoading]);\n\n  // ---------------------------\n  // 6) 자동 스크롤 useEffect (연간/분기)\n  // ---------------------------\n  useEffect(() => {\n    if (annualData.length > 0 && annualChartRef.current) {\n      annualChartRef.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"start\"\n      });\n    }\n  }, [annualData]);\n  useEffect(() => {\n    if (quarterlyData.length > 0 && quarterlyChartRef.current) {\n      quarterlyChartRef.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"start\"\n      });\n    }\n  }, [quarterlyData]);\n\n  // ---------------------------\n  // (A) 연간 차트 데이터 구성\n  // ---------------------------\n  const annualChartData = {\n    labels: annualData.map(item => item.연도 || item.label || \"N/A\"),\n    datasets: [{\n      label: isPercentage(annualSelectedButton) ? `${annualSelectedButton} (%)` // 백틱 추가\n      : `${annualSelectedButton} (억)`,\n      // 백틱 추가\n      data: annualData.map(item => item[annualSelectedButton]),\n      backgroundColor: annualSelectedButton === \"매출액\" ? \"rgba(75, 192, 192, 0.6)\" : annualSelectedButton === \"영업이익\" ? \"rgba(255, 159, 64, 0.6)\" : annualSelectedButton === \"영업이익률\" ? \"rgba(54, 162, 235, 0.6)\" : annualSelectedButton === \"순이익\" ? \"rgba(153, 102, 255, 0.6)\" : annualSelectedButton === \"부채비율\" ? \"rgba(255, 206, 86, 0.6)\" : \"rgba(75, 192, 192, 0.6)\",\n      borderColor: annualSelectedButton === \"매출액\" ? \"rgba(75, 192, 192, 1)\" : annualSelectedButton === \"영업이익\" ? \"rgba(255, 159, 64, 1)\" : annualSelectedButton === \"영업이익률\" ? \"rgba(54, 162, 235, 1)\" : annualSelectedButton === \"순이익\" ? \"rgba(153, 102, 255, 1)\" : annualSelectedButton === \"부채비율\" ? \"rgba(255, 206, 86, 1)\" : \"rgba(75, 192, 192, 1)\",\n      borderWidth: 1\n    }]\n  };\n\n  // ---------------------------\n  // (B) 분기 차트 데이터 구성\n  // ---------------------------\n  const quarterlyChartData = {\n    labels: quarterlyData.map(item => item.분기 || item.label || \"N/A\"),\n    datasets: [{\n      label: isPercentage(quarterlySelectedButton) ? `${quarterlySelectedButton} (%)` // 백틱 추가\n      : `${quarterlySelectedButton} (억)`,\n      // 백틱 추가\n      data: quarterlyData.map(item => item[quarterlySelectedButton]),\n      backgroundColor: quarterlySelectedButton === \"매출액\" ? \"rgba(75, 192, 192, 0.6)\" : quarterlySelectedButton === \"영업이익\" ? \"rgba(255, 159, 64, 0.6)\" : quarterlySelectedButton === \"영업이익률\" ? \"rgba(54, 162, 235, 0.6)\" : quarterlySelectedButton === \"순이익\" ? \"rgba(153, 102, 255, 0.6)\" : quarterlySelectedButton === \"부채비율\" ? \"rgba(255, 206, 86, 0.6)\" : \"rgba(75, 192, 192, 0.6)\",\n      borderColor: quarterlySelectedButton === \"매출액\" ? \"rgba(75, 192, 192, 1)\" : quarterlySelectedButton === \"영업이익\" ? \"rgba(255, 159, 64, 1)\" : quarterlySelectedButton === \"영업이익률\" ? \"rgba(54, 162, 235, 1)\" : quarterlySelectedButton === \"순이익\" ? \"rgba(153, 102, 255, 1)\" : quarterlySelectedButton === \"부채비율\" ? \"rgba(255, 206, 86, 1)\" : \"rgba(75, 192, 192, 1)\",\n      borderWidth: 1\n    }]\n  };\n\n  // ---------------------------\n  // (C) 최신 뉴스 가져오기 함수\n  // ---------------------------\n\n  const fetchLatestNews = async () => {\n    if (!highlightedStock) {\n      setNewsError(\"종목을 먼저 검색/선택해주세요.\");\n      return;\n    }\n    try {\n      setNewsLoading(true);\n      setNewsError(\"\");\n      setNewsList([]);\n      setShowNews(false);\n      setNewsPage(1); // 초기 페이지 설정\n      setTotalNewsPages(0); // 초기화\n\n      // 백엔드 주소: 예) https://.../news\n      const response = await axios.get(\"http://localhost:8000/news\", {\n        params: {\n          stock_name: highlightedStock[\"종목명\"]\n        }\n      });\n\n      // 백엔드에서 { error, news } 형태로 반환된다고 가정\n      if (response.data.error) {\n        setNewsError(response.data.error);\n        setNewsLoading(false);\n        return;\n      }\n\n      // 정상 응답\n      const fetchedNews = response.data.news || [];\n      console.log(\"Fetched News Count:\", fetchedNews.length); // 디버깅용 로그\n      setNewsList(fetchedNews);\n      setShowNews(true);\n\n      // 총 페이지 수 계산 (10개씩)\n      const pages = Math.ceil(fetchedNews.length / 10);\n      console.log(\"Total News Pages:\", pages); // 디버깅용 로그\n      setTotalNewsPages(pages > 3 ? 3 : pages); // 최대 3페이지로 제한\n    } catch (error) {\n      console.error(\"백엔드 뉴스 API 요청 오류:\", error);\n      setNewsError(\"뉴스 로딩 중 서버 오류가 발생했습니다.\");\n    } finally {\n      setNewsLoading(false);\n    }\n  };\n\n  // ---------------------------\n  // 7) 뉴스 페이지 변경 핸들러\n  // ---------------------------\n  const handleNewsPageChange = page => {\n    console.log(\"Changing to News Page:\", page); // 디버깅용 로그\n    setNewsPage(page);\n  };\n\n  // ---------------------------\n  // 8) JSX 반환\n  // ---------------------------\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      onClick: resetState,\n      style: {\n        cursor: \"pointer\",\n        color: \"#007bff\",\n        marginBottom: \"20px\"\n      },\n      children: \"\\uC885\\uBAA9\\uAC80\\uC0C9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"relative\",\n        width: \"100%\",\n        maxWidth: \"600px\",\n        marginBottom: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uC885\\uBAA9\\uBA85 \\uB610\\uB294 \\uC885\\uBAA9\\uCF54\\uB4DC \\uC785\\uB825\",\n          value: query,\n          onChange: handleQueryChange,\n          onKeyPress: handleKeyPress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"search-button\",\n          onClick: () => fetchData(),\n          children: \"\\uC885\\uBAA9 \\uAC80\\uC0C9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 17\n      }, this), isDropdownOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: dropdownRef,\n        className: \"dropdown\",\n        children: filteredStocks.map((stock, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown-item\",\n          onClick: () => handleSuggestionClick(stock),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            dangerouslySetInnerHTML: {\n              __html: highlightMatch(stock[\"종목명\"] || \"\", query)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: \"10px\",\n              color: \"gray\"\n            },\n            children: stock[\"종목코드\"] || \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 33\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 23\n    }, this), highlightedStock && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"highlighted-stock\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uC885\\uBAA9 \\uC815\\uBCF4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uC2DC\\uC7A5: \", highlightedStock[\"시장\"] || \"N/A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uC885\\uBAA9\\uCF54\\uB4DC: \", highlightedStock[\"종목코드\"] || \"N/A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uC885\\uBAA9\\uBA85: \", highlightedStock[\"종목명\"] || \"N/A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uC5C5\\uC885\\uBA85: \", highlightedStock[\"업종명\"] || \"N/A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uC2DC\\uAC00\\uCD1D\\uC561: \", highlightedStock[\"시가총액\"] || \"N/A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 17\n    }, this), stocks.length > 0 && /*#__PURE__*/_jsxDEV(StockTable, {\n      stocks: stocks,\n      excludeKeys: [\"시장\", \"종목코드\", \"종목명\", \"업종명\", \"시가총액\", \"시가총액(숫자형)\", \"종목명_lower\", \"종목코드_str\", \"부채비율\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 608,\n      columnNumber: 17\n    }, this), stocks.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginTop: \"30px\",\n          marginBottom: \"10px\",\n          color: \"#333\"\n        },\n        children: \"\\uC5F0\\uAC04 \\uC7AC\\uBB34\\uB370\\uC774\\uD130\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: \"10px\",\n          flexWrap: \"wrap\",\n          marginBottom: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAnnualButtonClick(\"매출액\"),\n          disabled: annualLoading && annualSelectedButton === \"매출액\",\n          children: annualLoading && annualSelectedButton === \"매출액\" ? \"매출액 로딩 중...\" : \"매출액\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAnnualButtonClick(\"영업이익\"),\n          disabled: annualLoading && annualSelectedButton === \"영업이익\",\n          children: annualLoading && annualSelectedButton === \"영업이익\" ? \"영업이익 로딩 중...\" : \"영업이익\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAnnualButtonClick(\"영업이익률\"),\n          disabled: annualLoading && annualSelectedButton === \"영업이익률\",\n          children: annualLoading && annualSelectedButton === \"영업이익률\" ? \"영업이익률 로딩 중...\" : \"영업이익률\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAnnualButtonClick(\"순이익\"),\n          disabled: annualLoading && annualSelectedButton === \"순이익\",\n          children: annualLoading && annualSelectedButton === \"순이익\" ? \"순이익 로딩 중...\" : \"순이익\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAnnualButtonClick(\"부채비율\"),\n          disabled: annualLoading && annualSelectedButton === \"부채비율\",\n          children: annualLoading && annualSelectedButton === \"부채비율\" ? \"부채비율 로딩 중...\" : \"부채비율\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 21\n      }, this), annualLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uC5F0\\uAC04 \\uB370\\uC774\\uD130\\uB97C \\uB85C\\uB4DC \\uC911\\uC785\\uB2C8\\uB2E4...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 39\n      }, this), annualError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: annualError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 37\n      }, this), annualData && annualData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"financial-data-chart\",\n        ref: annualChartRef,\n        style: {\n          marginBottom: \"30px\",\n          height: \"400px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Bar, {\n          data: annualChartData,\n          options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            plugins: {\n              legend: {\n                position: \"top\"\n              },\n              title: {\n                display: true,\n                text: `${(highlightedStock === null || highlightedStock === void 0 ? void 0 : highlightedStock.종목명) || \"\"} 연간 ${annualSelectedButton}` // 백틱으로 수정\n              }\n            },\n            scales: {\n              y: {\n                beginAtZero: false,\n                ticks: {\n                  callback: function (value) {\n                    if (isPercentage(annualSelectedButton)) {\n                      return value.toFixed(1) + \"%\";\n                    }\n                    return value.toLocaleString() + \"억\";\n                  }\n                }\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true), stocks.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginTop: \"30px\",\n          marginBottom: \"10px\",\n          color: \"#333\"\n        },\n        children: \"\\uBD84\\uAE30\\uBCC4 \\uC7AC\\uBB34\\uB370\\uC774\\uD130\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 719,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: \"10px\",\n          flexWrap: \"wrap\",\n          marginBottom: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleQuarterlyButtonClick(\"매출액\"),\n          disabled: quarterlyLoading && quarterlySelectedButton === \"매출액\",\n          children: quarterlyLoading && quarterlySelectedButton === \"매출액\" ? \"매출액 로딩 중...\" : \"매출액\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 723,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleQuarterlyButtonClick(\"영업이익\"),\n          disabled: quarterlyLoading && quarterlySelectedButton === \"영업이익\",\n          children: quarterlyLoading && quarterlySelectedButton === \"영업이익\" ? \"영업이익 로딩 중...\" : \"영업이익\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleQuarterlyButtonClick(\"영업이익률\"),\n          disabled: quarterlyLoading && quarterlySelectedButton === \"영업이익률\",\n          children: quarterlyLoading && quarterlySelectedButton === \"영업이익률\" ? \"영업이익률 로딩 중...\" : \"영업이익률\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleQuarterlyButtonClick(\"순이익\"),\n          disabled: quarterlyLoading && quarterlySelectedButton === \"순이익\",\n          children: quarterlyLoading && quarterlySelectedButton === \"순이익\" ? \"순이익 로딩 중...\" : \"순이익\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleQuarterlyButtonClick(\"부채비율\"),\n          disabled: quarterlyLoading && quarterlySelectedButton === \"부채비율\",\n          children: quarterlyLoading && quarterlySelectedButton === \"부채비율\" ? \"부채비율 로딩 중...\" : \"부채비율\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 722,\n        columnNumber: 21\n      }, this), quarterlyLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uBD84\\uAE30\\uBCC4 \\uB370\\uC774\\uD130\\uB97C \\uB85C\\uB4DC \\uC911\\uC785\\uB2C8\\uB2E4...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 766,\n        columnNumber: 42\n      }, this), quarterlyError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: quarterlyError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 40\n      }, this), quarterlyData && quarterlyData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"financial-data-chart\",\n        ref: quarterlyChartRef,\n        style: {\n          marginBottom: \"30px\",\n          height: \"400px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Bar, {\n          data: quarterlyChartData,\n          options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            plugins: {\n              legend: {\n                position: \"top\"\n              },\n              title: {\n                display: true,\n                text: `${(highlightedStock === null || highlightedStock === void 0 ? void 0 : highlightedStock.종목명) || \"\"} 분기별 ${quarterlySelectedButton}` // 백틱으로 수정\n              }\n            },\n            scales: {\n              y: {\n                beginAtZero: false,\n                ticks: {\n                  callback: function (value) {\n                    if (isPercentage(quarterlySelectedButton)) {\n                      return value.toFixed(1) + \"%\";\n                    }\n                    return value.toLocaleString() + \"억\";\n                  }\n                }\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 771,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true), highlightedStock && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"30px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uCD5C\\uC2E0 \\uB274\\uC2A4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 813,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchLatestNews,\n        disabled: newsLoading,\n        children: newsLoading ? \"뉴스 로딩 중...\" : \"최신 뉴스 가져오기\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 814,\n        columnNumber: 21\n      }, this), newsError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: newsError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 817,\n        columnNumber: 35\n      }, this), totalNewsPages > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"10px\",\n          display: \"flex\",\n          gap: \"10px\"\n        },\n        children: [1, 2, 3].map(page => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleNewsPageChange(page),\n          disabled: page > totalNewsPages,\n          className: newsPage === page ? \"active-page-button\" : \"\",\n          children: page\n        }, page, false, {\n          fileName: _jsxFileName,\n          lineNumber: 823,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 821,\n        columnNumber: 25\n      }, this), showNews && newsList.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          marginTop: \"10px\"\n        },\n        children: newsList.slice((newsPage - 1) * 10, newsPage * 10).map((news, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            marginBottom: \"6px\",\n            // 읽었으면 회색, 아니면 파란색\n            color: news.read ? \"gray\" : \"#007bff\",\n            cursor: \"pointer\"\n          },\n          onClick: () => {\n            // 1) 새 탭으로 열기\n            window.open(news.link, \"_blank\", \"noopener,noreferrer\");\n\n            // 2) 읽은 상태로 표시\n            setNewsList(prevList => {\n              const newList = [...prevList];\n              newList[index + (newsPage - 1) * 10] = {\n                ...newList[index + (newsPage - 1) * 10],\n                read: true\n              };\n              return newList;\n            });\n          },\n          children: news.title\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 841,\n          columnNumber: 37\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 837,\n        columnNumber: 25\n      }, this), showNews && newsList.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uB274\\uC2A4\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 871,\n        columnNumber: 59\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 812,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 541,\n    columnNumber: 9\n  }, this);\n};\n_s(SearchPage, \"oq81sB93CYomIYwpBA1GL7j0Qy0=\");\n_c = SearchPage;\nexport default SearchPage;\nvar _c;\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","axios","StockTable","Bar","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchPage","_s","stocks","setStocks","query","setQuery","highlightedStock","setHighlightedStock","filteredStocks","setFilteredStocks","error","setError","isDropdownOpen","setIsDropdownOpen","dropdownRef","annualData","setAnnualData","annualLoading","setAnnualLoading","annualError","setAnnualError","annualSelectedButton","setAnnualSelectedButton","quarterlyData","setQuarterlyData","quarterlyLoading","setQuarterlyLoading","quarterlyError","setQuarterlyError","quarterlySelectedButton","setQuarterlySelectedButton","quarterLabelMap","annualChartRef","quarterlyChartRef","newsList","setNewsList","newsError","setNewsError","newsLoading","setNewsLoading","showNews","setShowNews","newsPage","setNewsPage","totalNewsPages","setTotalNewsPages","cleanValue","value","replace","undefined","isPercentage","buttonName","percentageButtons","includes","fetchData","searchQuery","trim","get","params","then","response","data","length","mappedData","map","stock","매출액","영업이익","영업이익률","시가배당률","부채비율","catch","console","handleQueryChange","e","input","target","lowercasedInput","toLowerCase","filtered","filter","stockCode","toString","stockName","startsWithQuery","startsWith","others","slice","handleSuggestionClick","handleKeyPress","key","resetState","handleOutsideClick","current","contains","document","addEventListener","removeEventListener","highlightMatch","text","regex","RegExp","match","handleAnnualButtonClick","warn","endpoint","stock_name","annual_sales","operating_profit","operating_income_rate","net_income","debt_ratio","handleQuarterlyButtonClick","quarterly_sales","quarterly_operating_profit","quarterly_operating_income_rate","quarterly_net_income","quarterly_debt_ratio","scrollIntoView","behavior","block","annualChartData","labels","item","연도","label","datasets","backgroundColor","borderColor","borderWidth","quarterlyChartData","분기","fetchLatestNews","fetchedNews","news","log","pages","Math","ceil","handleNewsPageChange","page","className","children","onClick","style","cursor","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","position","width","maxWidth","display","type","placeholder","onChange","onKeyPress","ref","index","dangerouslySetInnerHTML","__html","marginLeft","excludeKeys","marginTop","gap","flexWrap","disabled","height","options","responsive","maintainAspectRatio","plugins","legend","title","종목명","scales","y","beginAtZero","ticks","callback","toFixed","toLocaleString","read","window","open","link","prevList","newList","_c","$RefreshReg$"],"sources":["C:/Users/redwh/Desktop/개발/stock/stockter/front/src/components/SearchPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\nimport StockTable from \"./StockTable\";\r\nimport \"../styles/Common.css\";\r\nimport \"../styles/SearchPage.css\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport \"chart.js/auto\"; // 자동 등록\r\n\r\nconst SearchPage = () => {\r\n    const [stocks, setStocks] = useState([]);\r\n    const [query, setQuery] = useState(\"\");\r\n    const [highlightedStock, setHighlightedStock] = useState(null); // 상단 정보용 상태\r\n    const [filteredStocks, setFilteredStocks] = useState([]);\r\n    const [error, setError] = useState(\"\");\r\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n    const dropdownRef = useRef(null);\r\n\r\n    // ========== (1) 연간 데이터 관련 상태 ==========\r\n    const [annualData, setAnnualData] = useState([]);                // 연간 데이터 배열\r\n    const [annualLoading, setAnnualLoading] = useState(false);       // 연간 데이터 로딩 상태\r\n    const [annualError, setAnnualError] = useState(\"\");              // 연간 데이터 오류 메시지\r\n    const [annualSelectedButton, setAnnualSelectedButton] = useState(\"\"); // 현재 선택된 연간 버튼\r\n\r\n    // ========== (2) 분기 데이터 관련 상태 ==========\r\n    const [quarterlyData, setQuarterlyData] = useState([]);          // 분기별 데이터 배열\r\n    const [quarterlyLoading, setQuarterlyLoading] = useState(false); // 분기 데이터 로딩 상태\r\n    const [quarterlyError, setQuarterlyError] = useState(\"\");        // 분기 데이터 오류 메시지\r\n    const [quarterlySelectedButton, setQuarterlySelectedButton] = useState(\"\"); // 현재 선택된 분기 버튼\r\n\r\n    // 분기 라벨 매핑 객체 (예시: 필요시 수정)\r\n    const quarterLabelMap = {\r\n        \"2023.Q1\": \"2023-Q1\",\r\n        \"2023.Q2\": \"2023-Q2\",\r\n        \"2023.Q3\": \"2023-Q3\",\r\n        \"2023.Q4\": \"2023-Q4\",\r\n        // \"2023.Q5\": \"2024-Q1\", // 일반적인 분기 표기법에 맞게 수정\r\n        // \"2023.Q6\": \"2024-Q2\",\r\n    };\r\n\r\n    // 각각의 차트에 대한 ref (스크롤 용도)\r\n    const annualChartRef = useRef(null);\r\n    const quarterlyChartRef = useRef(null);\r\n\r\n    // ---------------------------\r\n    // (추가) 뉴스 관련 상태\r\n    // ---------------------------\r\n    const [newsList, setNewsList] = useState([]);      // 뉴스 기사 목록\r\n    const [newsError, setNewsError] = useState(\"\");    // 뉴스 관련 에러메시지\r\n    const [newsLoading, setNewsLoading] = useState(false); // 뉴스 로딩 상태\r\n    const [showNews, setShowNews] = useState(false);   // 뉴스 목록 표시 여부\r\n    const [newsPage, setNewsPage] = useState(1);       // 현재 뉴스 페이지\r\n    const [totalNewsPages, setTotalNewsPages] = useState(0); // 총 뉴스 페이지 수\r\n\r\n    // 공백/쉼표 제거\r\n    const cleanValue = (value) => {\r\n        if (typeof value === \"string\") {\r\n            return value.replace(/[\\s,]+/g, \"\");\r\n        }\r\n        if (value === null || value === undefined) {\r\n            return \"N/A\";\r\n        }\r\n        return value;\r\n    };\r\n\r\n    // 퍼센트 단위인지 확인하는 함수\r\n    const isPercentage = (buttonName) => {\r\n        const percentageButtons = [\"영업이익률\", \"부채비율\"];\r\n        return percentageButtons.includes(buttonName);\r\n    };\r\n\r\n    // ---------------------------\r\n    // 1) 검색 함수\r\n    // ---------------------------\r\n    const fetchData = useCallback(\r\n        (searchQuery = query) => {\r\n            if (!searchQuery.trim()) {\r\n                setError(\"검색어를 입력하세요.\");\r\n                return;\r\n            }\r\n            setError(\"\");\r\n            setFilteredStocks([]);\r\n            setIsDropdownOpen(false);\r\n\r\n            axios\r\n                .get(\"https://port-0-stockter-back-m5or7nt39f4a0f5c.sel4.cloudtype.app/data\", {\r\n                    params: { query: searchQuery },\r\n                })\r\n                .then((response) => {\r\n                    if (response.data.error || response.data.stocks.length === 0) {\r\n                        setError(\"검색 결과가 없습니다.\");\r\n                        setStocks([]);\r\n                        setHighlightedStock(null);\r\n                    } else {\r\n                        const mappedData = response.data.stocks.map((stock) => ({\r\n                            ...stock,\r\n                            매출액: cleanValue(stock[\"매출액\"]),\r\n                            영업이익: cleanValue(stock[\"영업이익\"]),\r\n                            영업이익률: cleanValue(stock[\"영업이익률\"]),\r\n                            시가배당률: cleanValue(stock[\"시가배당률(%)\"]),\r\n                            부채비율: cleanValue(stock[\"부채비율\"]),\r\n                        }));\r\n\r\n                        setStocks(mappedData);\r\n                        setHighlightedStock(mappedData[0] || null);\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"데이터 로드 오류:\", error);\r\n                    setError(\"서버와 연결할 수 없습니다.\");\r\n                });\r\n        },\r\n        [query]\r\n    );\r\n\r\n    // ---------------------------\r\n    // 2) 자동완성 로직\r\n    // ---------------------------\r\n    const handleQueryChange = useCallback((e) => {\r\n        const input = e.target.value;\r\n        setQuery(input);\r\n\r\n        if (input.trim() === \"\") {\r\n            setFilteredStocks([]);\r\n            setIsDropdownOpen(false);\r\n        } else {\r\n            axios\r\n                .get(\"https://port-0-stockter-back-m5or7nt39f4a0f5c.sel4.cloudtype.app/data\", {\r\n                    params: { query: input },\r\n                })\r\n                .then((response) => {\r\n                    if (response.data.stocks) {\r\n                        const lowercasedInput = input.toLowerCase();\r\n                        const filtered = response.data.stocks.filter((stock) => {\r\n                            const stockCode = stock[\"종목코드\"].toString().toLowerCase();\r\n                            const stockName = stock[\"종목명\"].toLowerCase();\r\n                            return (\r\n                                stockCode.includes(lowercasedInput) ||\r\n                                stockName.includes(lowercasedInput)\r\n                            );\r\n                        });\r\n\r\n                        // 입력값으로 시작하는 종목 우선 정렬\r\n                        const startsWithQuery = filtered.filter((stock) => {\r\n                            const stockCode = stock[\"종목코드\"].toString().toLowerCase();\r\n                            const stockName = stock[\"종목명\"].toLowerCase();\r\n                            return (\r\n                                stockCode.startsWith(lowercasedInput) ||\r\n                                stockName.startsWith(lowercasedInput)\r\n                            );\r\n                        });\r\n                        const others = filtered.filter((stock) => {\r\n                            const stockCode = stock[\"종목코드\"].toString().toLowerCase();\r\n                            const stockName = stock[\"종목명\"].toLowerCase();\r\n                            return (\r\n                                !stockCode.startsWith(lowercasedInput) &&\r\n                                !stockName.startsWith(lowercasedInput)\r\n                            );\r\n                        });\r\n\r\n                        // 최대 10개까지만\r\n                        setFilteredStocks([...startsWithQuery, ...others].slice(0, 10));\r\n                        setIsDropdownOpen(true);\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"자동완성 데이터 로드 오류:\", error);\r\n                });\r\n        }\r\n    }, []);\r\n\r\n    const handleSuggestionClick = useCallback(\r\n        (stock) => {\r\n            setQuery(stock[\"종목명\"]);\r\n            setIsDropdownOpen(false);\r\n            setHighlightedStock(stock);\r\n            fetchData(stock[\"종목명\"]);\r\n        },\r\n        [fetchData]\r\n    );\r\n\r\n    const handleKeyPress = useCallback(\r\n        (e) => {\r\n            if (e.key === \"Enter\") {\r\n                fetchData();\r\n                setIsDropdownOpen(false);\r\n            }\r\n        },\r\n        [fetchData]\r\n    );\r\n\r\n    // ---------------------------\r\n    // 3) 기타 이벤트 (리셋 등)\r\n    // ---------------------------\r\n    const resetState = useCallback(() => {\r\n        setQuery(\"\");\r\n        setStocks([]);\r\n        setFilteredStocks([]);\r\n        setError(\"\");\r\n        setIsDropdownOpen(false);\r\n        setHighlightedStock(null);\r\n\r\n        // 연간 / 분기 데이터도 모두 초기화\r\n        setAnnualData([]);\r\n        setAnnualLoading(false);\r\n        setAnnualError(\"\");\r\n        setAnnualSelectedButton(\"\");\r\n\r\n        setQuarterlyData([]);\r\n        setQuarterlyLoading(false);\r\n        setQuarterlyError(\"\");\r\n        setQuarterlySelectedButton(\"\");\r\n\r\n        // 뉴스 관련도 초기화\r\n        setNewsList([]);\r\n        setNewsError(\"\");\r\n        setNewsLoading(false);\r\n        setShowNews(false);\r\n        setNewsPage(1);\r\n        setTotalNewsPages(0);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const handleOutsideClick = (e) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(e.target)) {\r\n                setIsDropdownOpen(false);\r\n            }\r\n        };\r\n        document.addEventListener(\"mousedown\", handleOutsideClick);\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handleOutsideClick);\r\n        };\r\n    }, []);\r\n\r\n    const highlightMatch = useCallback((text, query) => {\r\n        if (!query) return text;\r\n        const regex = new RegExp(`(${query})`, \"gi\"); // 백틱 추가\r\n        return text.replace(regex, (match) => `<span class=\"highlight\">${match}</span>`); // JSX 요소 대신 문자열 반환\r\n    }, []);\r\n\r\n    // ---------------------------\r\n    // 4) 연간 재무데이터 버튼 핸들러\r\n    // ---------------------------\r\n    const handleAnnualButtonClick = useCallback(\r\n        async (buttonName) => {\r\n            if (annualLoading) {\r\n                console.warn(\"연간 데이터 로딩 중입니다. 잠시만 기다려주세요.\");\r\n                return;\r\n            }\r\n\r\n            if (!highlightedStock) {\r\n                setAnnualError(\"종목을 선택하지 않았습니다. 검색 후 선택해주세요.\");\r\n                return;\r\n            }\r\n\r\n            setAnnualLoading(true);\r\n            setAnnualError(\"\");\r\n            setAnnualData([]);\r\n            setAnnualSelectedButton(buttonName);\r\n\r\n            // 엔드포인트 결정\r\n            let endpoint = \"\";\r\n            if (buttonName === \"매출액\") {\r\n                endpoint = \"financial-annual-sales\";\r\n            } else if (buttonName === \"영업이익\") {\r\n                endpoint = \"financial-operating-profit\";\r\n            } else if (buttonName === \"영업이익률\") {\r\n                endpoint = \"financial-operating-income-rate\";\r\n            } else if (buttonName === \"순이익\") {\r\n                endpoint = \"financial-net-income\";\r\n            } else if (buttonName === \"부채비율\") {\r\n                endpoint = \"financial-debt-ratio\";\r\n            } else {\r\n                console.warn(\"지원되지 않는 버튼입니다(연간).\");\r\n                setAnnualLoading(false);\r\n                return;\r\n            }\r\n\r\n            try {\r\n                const response = await axios.get(\r\n                    `https://port-0-stockter-back-m5or7nt39f4a0f5c.sel4.cloudtype.app/${endpoint}`, // 백틱 추가\r\n                    { params: { stock_name: highlightedStock[\"종목명\"] } }\r\n                );\r\n\r\n                let data = null;\r\n                if (buttonName === \"매출액\" && response.data.annual_sales) {\r\n                    data = response.data.annual_sales;\r\n                } else if (buttonName === \"영업이익\" && response.data.operating_profit) {\r\n                    data = response.data.operating_profit;\r\n                } else if (buttonName === \"영업이익률\" && response.data.operating_income_rate) {\r\n                    data = response.data.operating_income_rate;\r\n                } else if (buttonName === \"순이익\" && response.data.net_income) {\r\n                    data = response.data.net_income;\r\n                } else if (buttonName === \"부채비율\" && response.data.debt_ratio) {\r\n                    data = response.data.debt_ratio;\r\n                }\r\n\r\n                if (data && data.length > 0) {\r\n                    setAnnualData(data);\r\n                } else {\r\n                    setAnnualError(`${buttonName} 데이터가 없습니다.`); // 백틱 추가\r\n                }\r\n            } catch (error) {\r\n                console.error(\"연간 데이터 로드 오류:\", error);\r\n                setAnnualError(`${buttonName} 데이터를 가져오는 중 오류가 발생했습니다.`); // 백틱 추가\r\n            } finally {\r\n                setAnnualLoading(false);\r\n            }\r\n        },\r\n        [highlightedStock, annualLoading]\r\n    );\r\n\r\n    // ---------------------------\r\n    // 5) 분기별 재무데이터 버튼 핸들러\r\n    // ---------------------------\r\n    const handleQuarterlyButtonClick = useCallback(\r\n        async (buttonName) => {\r\n            if (quarterlyLoading) {\r\n                console.warn(\"분기별 데이터 로딩 중입니다. 잠시만 기다려주세요.\");\r\n                return;\r\n            }\r\n\r\n            if (!highlightedStock) {\r\n                setQuarterlyError(\"종목을 선택하지 않았습니다. 검색 후 선택해주세요.\");\r\n                return;\r\n            }\r\n\r\n            setQuarterlyLoading(true);\r\n            setQuarterlyError(\"\");\r\n            setQuarterlyData([]);\r\n            setQuarterlySelectedButton(buttonName);\r\n\r\n            // 엔드포인트 결정 (분기별)\r\n            let endpoint = \"\";\r\n            if (buttonName === \"매출액\") {\r\n                endpoint = \"financial-quarterly-sales\";\r\n            } else if (buttonName === \"영업이익\") {\r\n                endpoint = \"financial-quarterly-operating-profit\";\r\n            } else if (buttonName === \"영업이익률\") {\r\n                endpoint = \"financial-quarterly-operating-income-rate\";\r\n            } else if (buttonName === \"순이익\") {\r\n                endpoint = \"financial-quarterly-net-income\";\r\n            } else if (buttonName === \"부채비율\") {\r\n                endpoint = \"financial-quarterly-debt-ratio\";\r\n            } else {\r\n                console.warn(\"지원되지 않는 버튼입니다(분기).\");\r\n                setQuarterlyLoading(false);\r\n                return;\r\n            }\r\n\r\n            try {\r\n                const response = await axios.get(\r\n                    `https://port-0-stockter-back-m5or7nt39f4a0f5c.sel4.cloudtype.app/${endpoint}`, // 백틱 추가\r\n                    { params: { stock_name: highlightedStock[\"종목명\"] } }\r\n                );\r\n\r\n                let data = null;\r\n                if (buttonName === \"매출액\" && response.data.quarterly_sales) {\r\n                    data = response.data.quarterly_sales;\r\n                } else if (buttonName === \"영업이익\" && response.data.quarterly_operating_profit) {\r\n                    data = response.data.quarterly_operating_profit;\r\n                } else if (buttonName === \"영업이익률\" && response.data.quarterly_operating_income_rate) {\r\n                    data = response.data.quarterly_operating_income_rate;\r\n                } else if (buttonName === \"순이익\" && response.data.quarterly_net_income) {\r\n                    data = response.data.quarterly_net_income;\r\n                } else if (buttonName === \"부채비율\" && response.data.quarterly_debt_ratio) {\r\n                    data = response.data.quarterly_debt_ratio;\r\n                }\r\n\r\n                if (data && data.length > 0) {\r\n                    setQuarterlyData(data);\r\n                } else {\r\n                    setQuarterlyError(`${buttonName} 분기별 데이터가 없습니다.`); // 백틱 추가\r\n                }\r\n            } catch (error) {\r\n                console.error(\"분기별 데이터 로드 오류:\", error);\r\n                setQuarterlyError(`${buttonName} 분기별 데이터를 가져오는 중 오류가 발생했습니다.`); // 백틱 추가\r\n            } finally {\r\n                setQuarterlyLoading(false);\r\n            }\r\n        },\r\n        [highlightedStock, quarterlyLoading]\r\n    );\r\n\r\n    // ---------------------------\r\n    // 6) 자동 스크롤 useEffect (연간/분기)\r\n    // ---------------------------\r\n    useEffect(() => {\r\n        if (annualData.length > 0 && annualChartRef.current) {\r\n            annualChartRef.current.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n        }\r\n    }, [annualData]);\r\n\r\n    useEffect(() => {\r\n        if (quarterlyData.length > 0 && quarterlyChartRef.current) {\r\n            quarterlyChartRef.current.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n        }\r\n    }, [quarterlyData]);\r\n\r\n    // ---------------------------\r\n    // (A) 연간 차트 데이터 구성\r\n    // ---------------------------\r\n    const annualChartData = {\r\n        labels: annualData.map((item) => item.연도 || item.label || \"N/A\"),\r\n        datasets: [\r\n            {\r\n                label: isPercentage(annualSelectedButton)\r\n                    ? `${annualSelectedButton} (%)` // 백틱 추가\r\n                    : `${annualSelectedButton} (억)`, // 백틱 추가\r\n                data: annualData.map((item) => item[annualSelectedButton]),\r\n                backgroundColor:\r\n                    annualSelectedButton === \"매출액\"\r\n                        ? \"rgba(75, 192, 192, 0.6)\"\r\n                        : annualSelectedButton === \"영업이익\"\r\n                        ? \"rgba(255, 159, 64, 0.6)\"\r\n                        : annualSelectedButton === \"영업이익률\"\r\n                        ? \"rgba(54, 162, 235, 0.6)\"\r\n                        : annualSelectedButton === \"순이익\"\r\n                        ? \"rgba(153, 102, 255, 0.6)\"\r\n                        : annualSelectedButton === \"부채비율\"\r\n                        ? \"rgba(255, 206, 86, 0.6)\"\r\n                        : \"rgba(75, 192, 192, 0.6)\",\r\n                borderColor:\r\n                    annualSelectedButton === \"매출액\"\r\n                        ? \"rgba(75, 192, 192, 1)\"\r\n                        : annualSelectedButton === \"영업이익\"\r\n                        ? \"rgba(255, 159, 64, 1)\"\r\n                        : annualSelectedButton === \"영업이익률\"\r\n                        ? \"rgba(54, 162, 235, 1)\"\r\n                        : annualSelectedButton === \"순이익\"\r\n                        ? \"rgba(153, 102, 255, 1)\"\r\n                        : annualSelectedButton === \"부채비율\"\r\n                        ? \"rgba(255, 206, 86, 1)\"\r\n                        : \"rgba(75, 192, 192, 1)\",\r\n                borderWidth: 1,\r\n            },\r\n        ],\r\n    };\r\n\r\n    // ---------------------------\r\n    // (B) 분기 차트 데이터 구성\r\n    // ---------------------------\r\n    const quarterlyChartData = {\r\n        labels: quarterlyData.map((item) => item.분기 || item.label || \"N/A\"),\r\n        datasets: [\r\n            {\r\n                label: isPercentage(quarterlySelectedButton)\r\n                    ? `${quarterlySelectedButton} (%)` // 백틱 추가\r\n                    : `${quarterlySelectedButton} (억)`, // 백틱 추가\r\n                data: quarterlyData.map((item) => item[quarterlySelectedButton]),\r\n                backgroundColor:\r\n                    quarterlySelectedButton === \"매출액\"\r\n                        ? \"rgba(75, 192, 192, 0.6)\"\r\n                        : quarterlySelectedButton === \"영업이익\"\r\n                        ? \"rgba(255, 159, 64, 0.6)\"\r\n                        : quarterlySelectedButton === \"영업이익률\"\r\n                        ? \"rgba(54, 162, 235, 0.6)\"\r\n                        : quarterlySelectedButton === \"순이익\"\r\n                        ? \"rgba(153, 102, 255, 0.6)\"\r\n                        : quarterlySelectedButton === \"부채비율\"\r\n                        ? \"rgba(255, 206, 86, 0.6)\"\r\n                        : \"rgba(75, 192, 192, 0.6)\",\r\n                borderColor:\r\n                    quarterlySelectedButton === \"매출액\"\r\n                        ? \"rgba(75, 192, 192, 1)\"\r\n                        : quarterlySelectedButton === \"영업이익\"\r\n                        ? \"rgba(255, 159, 64, 1)\"\r\n                        : quarterlySelectedButton === \"영업이익률\"\r\n                        ? \"rgba(54, 162, 235, 1)\"\r\n                        : quarterlySelectedButton === \"순이익\"\r\n                        ? \"rgba(153, 102, 255, 1)\"\r\n                        : quarterlySelectedButton === \"부채비율\"\r\n                        ? \"rgba(255, 206, 86, 1)\"\r\n                        : \"rgba(75, 192, 192, 1)\",\r\n                borderWidth: 1,\r\n            },\r\n        ],\r\n    };\r\n\r\n    // ---------------------------\r\n    // (C) 최신 뉴스 가져오기 함수\r\n    // ---------------------------\r\n\r\n    const fetchLatestNews = async () => {\r\n        if (!highlightedStock) {\r\n            setNewsError(\"종목을 먼저 검색/선택해주세요.\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setNewsLoading(true);\r\n            setNewsError(\"\");\r\n            setNewsList([]);\r\n            setShowNews(false);\r\n            setNewsPage(1); // 초기 페이지 설정\r\n            setTotalNewsPages(0); // 초기화\r\n\r\n            // 백엔드 주소: 예) https://.../news\r\n            const response = await axios.get(\r\n                \"http://localhost:8000/news\",\r\n                { params: { stock_name: highlightedStock[\"종목명\"] } }\r\n            );\r\n\r\n            // 백엔드에서 { error, news } 형태로 반환된다고 가정\r\n            if (response.data.error) {\r\n                setNewsError(response.data.error);\r\n                setNewsLoading(false);\r\n                return;\r\n            }\r\n\r\n            // 정상 응답\r\n            const fetchedNews = response.data.news || [];\r\n            console.log(\"Fetched News Count:\", fetchedNews.length); // 디버깅용 로그\r\n            setNewsList(fetchedNews);\r\n            setShowNews(true);\r\n\r\n            // 총 페이지 수 계산 (10개씩)\r\n            const pages = Math.ceil(fetchedNews.length / 10);\r\n            console.log(\"Total News Pages:\", pages); // 디버깅용 로그\r\n            setTotalNewsPages(pages > 3 ? 3 : pages); // 최대 3페이지로 제한\r\n        } catch (error) {\r\n            console.error(\"백엔드 뉴스 API 요청 오류:\", error);\r\n            setNewsError(\"뉴스 로딩 중 서버 오류가 발생했습니다.\");\r\n        } finally {\r\n            setNewsLoading(false);\r\n        }\r\n    };\r\n\r\n\r\n    // ---------------------------\r\n    // 7) 뉴스 페이지 변경 핸들러\r\n    // ---------------------------\r\n    const handleNewsPageChange = (page) => {\r\n        console.log(\"Changing to News Page:\", page); // 디버깅용 로그\r\n        setNewsPage(page);\r\n    };\r\n\r\n    // ---------------------------\r\n    // 8) JSX 반환\r\n    // ---------------------------\r\n    return (\r\n        <div className=\"search-page-container\">\r\n            <h2\r\n                onClick={resetState}\r\n                style={{ cursor: \"pointer\", color: \"#007bff\", marginBottom: \"20px\" }}\r\n            >\r\n                종목검색\r\n            </h2>\r\n\r\n            {/* 검색창 */}\r\n            <div\r\n                style={{\r\n                    position: \"relative\",\r\n                    width: \"100%\",\r\n                    maxWidth: \"600px\",\r\n                    marginBottom: \"20px\",\r\n                }}\r\n            >\r\n                <div style={{ display: \"flex\" }}>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"종목명 또는 종목코드 입력\"\r\n                        value={query}\r\n                        onChange={handleQueryChange}\r\n                        onKeyPress={handleKeyPress}\r\n                    />\r\n                    <button className=\"search-button\" onClick={() => fetchData()}>\r\n                        종목 검색\r\n                    </button>\r\n                </div>\r\n                {isDropdownOpen && (\r\n                    <div ref={dropdownRef} className=\"dropdown\">\r\n                        {filteredStocks.map((stock, index) => (\r\n                            <div\r\n                                key={index}\r\n                                className=\"dropdown-item\"\r\n                                onClick={() => handleSuggestionClick(stock)}\r\n                            >\r\n                                <span\r\n                                    dangerouslySetInnerHTML={{\r\n                                        __html: highlightMatch(stock[\"종목명\"] || \"\", query),\r\n                                    }}\r\n                                ></span>\r\n                                <span style={{ marginLeft: \"10px\", color: \"gray\" }}>\r\n                                    {stock[\"종목코드\"] || \"\"}\r\n                                </span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {error && <p className=\"error-message\">{error}</p>}\r\n\r\n            {/* 상단 종목 정보 */}\r\n            {highlightedStock && (\r\n                <div className=\"highlighted-stock\">\r\n                    <h3>종목 정보</h3>\r\n                    <p>시장: {highlightedStock[\"시장\"] || \"N/A\"}</p>\r\n                    <p>종목코드: {highlightedStock[\"종목코드\"] || \"N/A\"}</p>\r\n                    <p>종목명: {highlightedStock[\"종목명\"] || \"N/A\"}</p>\r\n                    <p>업종명: {highlightedStock[\"업종명\"] || \"N/A\"}</p>\r\n                    <p>시가총액: {highlightedStock[\"시가총액\"] || \"N/A\"}</p>\r\n                </div>\r\n            )}\r\n\r\n            {/* 기본 주가 정보 테이블 */}\r\n            {stocks.length > 0 && (\r\n                <StockTable\r\n                    stocks={stocks}\r\n                    excludeKeys={[\r\n                        \"시장\",\r\n                        \"종목코드\",\r\n                        \"종목명\",\r\n                        \"업종명\",\r\n                        \"시가총액\",\r\n                        \"시가총액(숫자형)\",\r\n                        \"종목명_lower\",\r\n                        \"종목코드_str\",\r\n                        \"부채비율\",\r\n                    ]}\r\n                />\r\n            )}\r\n\r\n            {/* ========== (A) 연간 재무데이터 영역 ========== */}\r\n            {stocks.length > 0 && (\r\n                <>\r\n                    <h3 style={{ marginTop: \"30px\", marginBottom: \"10px\", color: \"#333\" }}>\r\n                        연간 재무데이터\r\n                    </h3>\r\n                    <div style={{ display: \"flex\", gap: \"10px\", flexWrap: \"wrap\", marginBottom: \"20px\" }}>\r\n                        <button\r\n                            onClick={() => handleAnnualButtonClick(\"매출액\")}\r\n                            disabled={annualLoading && annualSelectedButton === \"매출액\"}\r\n                        >\r\n                            {annualLoading && annualSelectedButton === \"매출액\"\r\n                                ? \"매출액 로딩 중...\"\r\n                                : \"매출액\"}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => handleAnnualButtonClick(\"영업이익\")}\r\n                            disabled={annualLoading && annualSelectedButton === \"영업이익\"}\r\n                        >\r\n                            {annualLoading && annualSelectedButton === \"영업이익\"\r\n                                ? \"영업이익 로딩 중...\"\r\n                                : \"영업이익\"}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => handleAnnualButtonClick(\"영업이익률\")}\r\n                            disabled={annualLoading && annualSelectedButton === \"영업이익률\"}\r\n                        >\r\n                            {annualLoading && annualSelectedButton === \"영업이익률\"\r\n                                ? \"영업이익률 로딩 중...\"\r\n                                : \"영업이익률\"}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => handleAnnualButtonClick(\"순이익\")}\r\n                            disabled={annualLoading && annualSelectedButton === \"순이익\"}\r\n                        >\r\n                            {annualLoading && annualSelectedButton === \"순이익\"\r\n                                ? \"순이익 로딩 중...\"\r\n                                : \"순이익\"}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => handleAnnualButtonClick(\"부채비율\")}\r\n                            disabled={annualLoading && annualSelectedButton === \"부채비율\"}\r\n                        >\r\n                            {annualLoading && annualSelectedButton === \"부채비율\"\r\n                                ? \"부채비율 로딩 중...\"\r\n                                : \"부채비율\"}\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* 연간 데이터 로딩/오류 메시지 */}\r\n                    {annualLoading && <p>연간 데이터를 로드 중입니다...</p>}\r\n                    {annualError && <p className=\"error-message\">{annualError}</p>}\r\n\r\n                    {/* 연간 차트 */}\r\n                    {annualData && annualData.length > 0 && (\r\n                        <div\r\n                            className=\"financial-data-chart\"\r\n                            ref={annualChartRef}\r\n                            style={{ marginBottom: \"30px\", height: \"400px\" }}\r\n                        >\r\n                            <Bar\r\n                                data={annualChartData}\r\n                                options={{\r\n                                    responsive: true,\r\n                                    maintainAspectRatio: false,\r\n                                    plugins: {\r\n                                        legend: { position: \"top\" },\r\n                                        title: {\r\n                                            display: true,\r\n                                            text: `${highlightedStock?.종목명 || \"\"} 연간 ${annualSelectedButton}`, // 백틱으로 수정\r\n                                        },\r\n                                    },\r\n                                    scales: {\r\n                                        y: {\r\n                                            beginAtZero: false,\r\n                                            ticks: {\r\n                                                callback: function (value) {\r\n                                                    if (isPercentage(annualSelectedButton)) {\r\n                                                        return value.toFixed(1) + \"%\";\r\n                                                    }\r\n                                                    return value.toLocaleString() + \"억\";\r\n                                                },\r\n                                            },\r\n                                        },\r\n                                    },\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n\r\n            {/* ========== (B) 분기별 재무데이터 영역 ========== */}\r\n            {stocks.length > 0 && (\r\n                <>\r\n                    <h3 style={{ marginTop: \"30px\", marginBottom: \"10px\", color: \"#333\" }}>\r\n                        분기별 재무데이터\r\n                    </h3>\r\n                    <div style={{ display: \"flex\", gap: \"10px\", flexWrap: \"wrap\", marginBottom: \"20px\" }}>\r\n                        <button\r\n                            onClick={() => handleQuarterlyButtonClick(\"매출액\")}\r\n                            disabled={quarterlyLoading && quarterlySelectedButton === \"매출액\"}\r\n                        >\r\n                            {quarterlyLoading && quarterlySelectedButton === \"매출액\"\r\n                                ? \"매출액 로딩 중...\"\r\n                                : \"매출액\"}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => handleQuarterlyButtonClick(\"영업이익\")}\r\n                            disabled={quarterlyLoading && quarterlySelectedButton === \"영업이익\"}\r\n                        >\r\n                            {quarterlyLoading && quarterlySelectedButton === \"영업이익\"\r\n                                ? \"영업이익 로딩 중...\"\r\n                                : \"영업이익\"}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => handleQuarterlyButtonClick(\"영업이익률\")}\r\n                            disabled={quarterlyLoading && quarterlySelectedButton === \"영업이익률\"}\r\n                        >\r\n                            {quarterlyLoading && quarterlySelectedButton === \"영업이익률\"\r\n                                ? \"영업이익률 로딩 중...\"\r\n                                : \"영업이익률\"}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => handleQuarterlyButtonClick(\"순이익\")}\r\n                            disabled={quarterlyLoading && quarterlySelectedButton === \"순이익\"}\r\n                        >\r\n                            {quarterlyLoading && quarterlySelectedButton === \"순이익\"\r\n                                ? \"순이익 로딩 중...\"\r\n                                : \"순이익\"}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => handleQuarterlyButtonClick(\"부채비율\")}\r\n                            disabled={quarterlyLoading && quarterlySelectedButton === \"부채비율\"}\r\n                        >\r\n                            {quarterlyLoading && quarterlySelectedButton === \"부채비율\"\r\n                                ? \"부채비율 로딩 중...\"\r\n                                : \"부채비율\"}\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* 분기별 데이터 로딩/오류 메시지 */}\r\n                    {quarterlyLoading && <p>분기별 데이터를 로드 중입니다...</p>}\r\n                    {quarterlyError && <p className=\"error-message\">{quarterlyError}</p>}\r\n\r\n                    {/* 분기별 차트 */}\r\n                    {quarterlyData && quarterlyData.length > 0 && (\r\n                        <div\r\n                            className=\"financial-data-chart\"\r\n                            ref={quarterlyChartRef}\r\n                            style={{ marginBottom: \"30px\", height: \"400px\" }}\r\n                        >\r\n                            <Bar\r\n                                data={quarterlyChartData}\r\n                                options={{\r\n                                    responsive: true,\r\n                                    maintainAspectRatio: false,\r\n                                    plugins: {\r\n                                        legend: { position: \"top\" },\r\n                                        title: {\r\n                                            display: true,\r\n                                            text: `${highlightedStock?.종목명 || \"\"} 분기별 ${quarterlySelectedButton}`, // 백틱으로 수정\r\n                                        },\r\n                                    },\r\n                                    scales: {\r\n                                        y: {\r\n                                            beginAtZero: false,\r\n                                            ticks: {\r\n                                                callback: function (value) {\r\n                                                    if (isPercentage(quarterlySelectedButton)) {\r\n                                                        return value.toFixed(1) + \"%\";\r\n                                                    }\r\n                                                    return value.toLocaleString() + \"억\";\r\n                                                },\r\n                                            },\r\n                                        },\r\n                                    },\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n\r\n            {/* =========================\r\n                (C) 최신 뉴스 영역\r\n                ========================= */}\r\n            {highlightedStock && (\r\n                <div style={{ marginTop: \"30px\" }}>\r\n                    <h3>최신 뉴스</h3>\r\n                    <button onClick={fetchLatestNews} disabled={newsLoading}>\r\n                        {newsLoading ? \"뉴스 로딩 중...\" : \"최신 뉴스 가져오기\"}\r\n                    </button>\r\n                    {newsError && <p className=\"error-message\">{newsError}</p>}\r\n\r\n                    {/* 페이지 버튼 */}\r\n                    {totalNewsPages > 0 && (\r\n                        <div style={{ marginTop: \"10px\", display: \"flex\", gap: \"10px\" }}>\r\n                            {[1, 2, 3].map((page) => (\r\n                                <button\r\n                                    key={page}\r\n                                    onClick={() => handleNewsPageChange(page)}\r\n                                    disabled={page > totalNewsPages}\r\n                                    className={newsPage === page ? \"active-page-button\" : \"\"}\r\n                                >\r\n                                    {page}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* 뉴스 목록 */}\r\n                    {showNews && newsList.length > 0 && (\r\n                        <ul style={{ marginTop: \"10px\" }}>\r\n                            {newsList\r\n                                .slice((newsPage - 1) * 10, newsPage * 10)\r\n                                .map((news, index) => (\r\n                                    <li\r\n                                        key={index}\r\n                                        style={{\r\n                                            marginBottom: \"6px\",\r\n                                            // 읽었으면 회색, 아니면 파란색\r\n                                            color: news.read ? \"gray\" : \"#007bff\",\r\n                                            cursor: \"pointer\",\r\n                                        }}\r\n                                        onClick={() => {\r\n                                            // 1) 새 탭으로 열기\r\n                                            window.open(news.link, \"_blank\", \"noopener,noreferrer\");\r\n\r\n                                            // 2) 읽은 상태로 표시\r\n                                            setNewsList((prevList) => {\r\n                                                const newList = [...prevList];\r\n                                                newList[index + (newsPage - 1) * 10] = {\r\n                                                    ...newList[index + (newsPage - 1) * 10],\r\n                                                    read: true,\r\n                                                };\r\n                                                return newList;\r\n                                            });\r\n                                        }}\r\n                                    >\r\n                                        {news.title}\r\n                                    </li>\r\n                                ))}\r\n                        </ul>\r\n                    )}\r\n\r\n                    {/* 뉴스 데이터가 부족할 때 사용자에게 알리기 */}\r\n                    {showNews && newsList.length === 0 && <p>뉴스가 없습니다.</p>}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default SearchPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}