{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\redwh\\\\Desktop\\\\\\uAC1C\\uBC1C\\\\stock\\\\stock-table\\\\src\\\\components\\\\SearchPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport StockTable from \"./StockTable\";\nimport \"../styles/Common.css\";\nimport \"../styles/SearchPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchPage = () => {\n  _s();\n  const [stocks, setStocks] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [highlightedStock, setHighlightedStock] = useState(null); // 상단 정보용 상태\n  const [filteredStocks, setFilteredStocks] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const dropdownRef = useRef(null);\n\n  // 매출 데이터 가져오기\n  const fetchAnnualSales = stockCode => {\n    axios.get(\"http://127.0.0.1:8000/annual-sales\", {\n      params: {\n        stock_code: stockCode\n      }\n    }).then(response => {\n      if (response.data.sales) {\n        setHighlightedStock(prev => ({\n          ...prev,\n          sales: response.data.sales\n        }));\n      } else {\n        console.error(\"매출 데이터 없음:\", response.data.error);\n      }\n    }).catch(error => {\n      console.error(\"매출 데이터 로드 오류:\", error);\n    });\n  };\n\n  // 검색 데이터 가져오기\n  const fetchData = (searchQuery = query) => {\n    if (!searchQuery.trim()) {\n      setError(\"검색어를 입력하세요.\");\n      return;\n    }\n    setError(\"\");\n    setFilteredStocks([]);\n    setIsDropdownOpen(false);\n    axios.get(\"http://127.0.0.1:8000/data\", {\n      params: {\n        query: searchQuery\n      }\n    }).then(response => {\n      if (response.data.error || response.data.stocks.length === 0) {\n        setError(\"검색 결과가 없습니다.\");\n        setStocks([]);\n        setHighlightedStock(null);\n      } else {\n        var _rawData$;\n        const rawData = response.data.stocks;\n        setStocks(rawData);\n        setHighlightedStock(rawData[0]); // 첫 번째 종목 설정\n        setError(\"\");\n\n        // 매출 데이터 가져오기\n        if ((_rawData$ = rawData[0]) !== null && _rawData$ !== void 0 && _rawData$.종목코드) {\n          fetchAnnualSales(rawData[0].종목코드);\n        }\n      }\n    }).catch(error => {\n      console.error(\"데이터 로드 중 오류 발생:\", error);\n      setError(\"서버와 연결할 수 없습니다.\");\n      setStocks([]);\n      setHighlightedStock(null);\n    });\n  };\n  const handleQueryChange = e => {\n    const input = e.target.value;\n    setQuery(input);\n    if (input.trim() === \"\") {\n      setFilteredStocks([]);\n      setIsDropdownOpen(false);\n    } else {\n      axios.get(\"http://127.0.0.1:8000/data\", {\n        params: {\n          query: input\n        }\n      }).then(response => {\n        if (response.data.stocks) {\n          const lowercasedInput = input.toLowerCase();\n          const filtered = response.data.stocks.filter(stock => {\n            const stockCode = stock[\"종목코드\"].toString().toLowerCase();\n            const stockName = stock[\"종목명\"].toLowerCase();\n            return stockCode.includes(lowercasedInput) || stockName.includes(lowercasedInput);\n          });\n          const startsWithQuery = filtered.filter(stock => {\n            const stockCode = stock[\"종목코드\"].toString().toLowerCase();\n            const stockName = stock[\"종목명\"].toLowerCase();\n            return stockCode.startsWith(lowercasedInput) || stockName.startsWith(lowercasedInput);\n          });\n          const others = filtered.filter(stock => {\n            const stockCode = stock[\"종목코드\"].toString().toLowerCase();\n            const stockName = stock[\"종목명\"].toLowerCase();\n            return !stockCode.startsWith(lowercasedInput) && !stockName.startsWith(lowercasedInput);\n          });\n          setFilteredStocks([...startsWithQuery, ...others].slice(0, 10));\n          setIsDropdownOpen(true);\n        }\n      }).catch(error => {\n        console.error(\"자동완성 데이터 로드 오류:\", error);\n      });\n    }\n  };\n  const handleSuggestionClick = stock => {\n    setQuery(stock[\"종목명\"]);\n    setIsDropdownOpen(false);\n    fetchData(stock[\"종목명\"]);\n    if (stock[\"종목코드\"]) fetchAnnualSales(stock[\"종목코드\"]);\n  };\n  const handleKeyPress = e => {\n    if (e.key === \"Enter\") {\n      fetchData();\n    }\n  };\n  const resetState = () => {\n    setQuery(\"\");\n    setStocks([]);\n    setFilteredStocks([]);\n    setError(\"\");\n    setIsDropdownOpen(false);\n    setHighlightedStock(null);\n  };\n  useEffect(() => {\n    const handleOutsideClick = e => {\n      if (dropdownRef.current && !dropdownRef.current.contains(e.target)) {\n        setIsDropdownOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleOutsideClick);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleOutsideClick);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      onClick: resetState,\n      style: {\n        cursor: \"pointer\",\n        color: \"#007bff\",\n        marginBottom: \"20px\"\n      },\n      children: \"\\uC885\\uBAA9\\uAC80\\uC0C9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"relative\",\n        width: \"100%\",\n        maxWidth: \"600px\",\n        marginBottom: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uC885\\uBAA9\\uBA85 \\uB610\\uB294 \\uC885\\uBAA9\\uCF54\\uB4DC \\uC785\\uB825\",\n          value: query,\n          onChange: handleQueryChange,\n          onKeyPress: handleKeyPress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"search-button\",\n          onClick: () => fetchData(),\n          children: \"\\uC885\\uBAA9 \\uAC80\\uC0C9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this), isDropdownOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: dropdownRef,\n        className: \"dropdown\",\n        children: filteredStocks.map((stock, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown-item\",\n          onClick: () => handleSuggestionClick(stock),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: stock[\"종목명\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: \"10px\",\n              color: \"gray\"\n            },\n            children: stock[\"종목코드\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 33\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 23\n    }, this), highlightedStock && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"highlighted-stock\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uC885\\uBAA9 \\uC815\\uBCF4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uC2DC\\uC7A5: \", highlightedStock[\"시장\"] || \"N/A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uC885\\uBAA9\\uCF54\\uB4DC: \", highlightedStock[\"종목코드\"] || \"N/A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uC885\\uBAA9\\uBA85: \", highlightedStock[\"종목명\"] || \"N/A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uC5C5\\uC885\\uBA85: \", highlightedStock[\"업종명\"] || \"N/A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uC2DC\\uAC00\\uCD1D\\uC561: \", highlightedStock[\"시가총액\"] || \"N/A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }, this), highlightedStock.sales && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uC5F0\\uB3C4\\uBCC4 \\uB9E4\\uCD9C\\uC561\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: highlightedStock.sales.map(([year, sales], index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [year, \": \", sales.toLocaleString(), \"\\uC6D0\"]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }, this), stocks.length > 0 && /*#__PURE__*/_jsxDEV(StockTable, {\n      stocks: stocks,\n      excludeKeys: [\"시장\", \"종목코드\", \"종목명\", \"업종명\", \"시가총액\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 9\n  }, this);\n};\n_s(SearchPage, \"Jsnl/DREpm0VvWI5AnQBuNpS+M0=\");\n_c = SearchPage;\nexport default SearchPage;\nvar _c;\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","StockTable","jsxDEV","_jsxDEV","SearchPage","_s","stocks","setStocks","query","setQuery","highlightedStock","setHighlightedStock","filteredStocks","setFilteredStocks","error","setError","isDropdownOpen","setIsDropdownOpen","dropdownRef","fetchAnnualSales","stockCode","get","params","stock_code","then","response","data","sales","prev","console","catch","fetchData","searchQuery","trim","length","_rawData$","rawData","종목코드","handleQueryChange","e","input","target","value","lowercasedInput","toLowerCase","filtered","filter","stock","toString","stockName","includes","startsWithQuery","startsWith","others","slice","handleSuggestionClick","handleKeyPress","key","resetState","handleOutsideClick","current","contains","document","addEventListener","removeEventListener","className","children","onClick","style","cursor","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","position","width","maxWidth","display","type","placeholder","onChange","onKeyPress","ref","map","index","marginLeft","year","toLocaleString","excludeKeys","_c","$RefreshReg$"],"sources":["C:/Users/redwh/Desktop/개발/stock/stock-table/src/components/SearchPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport StockTable from \"./StockTable\";\r\nimport \"../styles/Common.css\";\r\nimport \"../styles/SearchPage.css\";\r\n\r\nconst SearchPage = () => {\r\n    const [stocks, setStocks] = useState([]);\r\n    const [query, setQuery] = useState(\"\");\r\n    const [highlightedStock, setHighlightedStock] = useState(null); // 상단 정보용 상태\r\n    const [filteredStocks, setFilteredStocks] = useState([]);\r\n    const [error, setError] = useState(\"\");\r\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n    const dropdownRef = useRef(null);\r\n\r\n    // 매출 데이터 가져오기\r\n    const fetchAnnualSales = (stockCode) => {\r\n        axios\r\n            .get(\"http://127.0.0.1:8000/annual-sales\", { params: { stock_code: stockCode } })\r\n            .then((response) => {\r\n                if (response.data.sales) {\r\n                    setHighlightedStock((prev) => ({\r\n                        ...prev,\r\n                        sales: response.data.sales,\r\n                    }));\r\n                } else {\r\n                    console.error(\"매출 데이터 없음:\", response.data.error);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"매출 데이터 로드 오류:\", error);\r\n            });\r\n    };\r\n\r\n    // 검색 데이터 가져오기\r\n    const fetchData = (searchQuery = query) => {\r\n        if (!searchQuery.trim()) {\r\n            setError(\"검색어를 입력하세요.\");\r\n            return;\r\n        }\r\n        setError(\"\");\r\n        setFilteredStocks([]);\r\n        setIsDropdownOpen(false);\r\n\r\n        axios\r\n            .get(\"http://127.0.0.1:8000/data\", { params: { query: searchQuery } })\r\n            .then((response) => {\r\n                if (response.data.error || response.data.stocks.length === 0) {\r\n                    setError(\"검색 결과가 없습니다.\");\r\n                    setStocks([]);\r\n                    setHighlightedStock(null);\r\n                } else {\r\n                    const rawData = response.data.stocks;\r\n                    setStocks(rawData);\r\n                    setHighlightedStock(rawData[0]); // 첫 번째 종목 설정\r\n                    setError(\"\");\r\n\r\n                    // 매출 데이터 가져오기\r\n                    if (rawData[0]?.종목코드) {\r\n                        fetchAnnualSales(rawData[0].종목코드);\r\n                    }\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"데이터 로드 중 오류 발생:\", error);\r\n                setError(\"서버와 연결할 수 없습니다.\");\r\n                setStocks([]);\r\n                setHighlightedStock(null);\r\n            });\r\n    };\r\n\r\n    const handleQueryChange = (e) => {\r\n        const input = e.target.value;\r\n        setQuery(input);\r\n\r\n        if (input.trim() === \"\") {\r\n            setFilteredStocks([]);\r\n            setIsDropdownOpen(false);\r\n        } else {\r\n            axios\r\n                .get(\"http://127.0.0.1:8000/data\", { params: { query: input } })\r\n                .then((response) => {\r\n                    if (response.data.stocks) {\r\n                        const lowercasedInput = input.toLowerCase();\r\n                        const filtered = response.data.stocks.filter((stock) => {\r\n                            const stockCode = stock[\"종목코드\"].toString().toLowerCase();\r\n                            const stockName = stock[\"종목명\"].toLowerCase();\r\n                            return stockCode.includes(lowercasedInput) || stockName.includes(lowercasedInput);\r\n                        });\r\n\r\n                        const startsWithQuery = filtered.filter((stock) => {\r\n                            const stockCode = stock[\"종목코드\"].toString().toLowerCase();\r\n                            const stockName = stock[\"종목명\"].toLowerCase();\r\n                            return stockCode.startsWith(lowercasedInput) || stockName.startsWith(lowercasedInput);\r\n                        });\r\n\r\n                        const others = filtered.filter((stock) => {\r\n                            const stockCode = stock[\"종목코드\"].toString().toLowerCase();\r\n                            const stockName = stock[\"종목명\"].toLowerCase();\r\n                            return !stockCode.startsWith(lowercasedInput) && !stockName.startsWith(lowercasedInput);\r\n                        });\r\n\r\n                        setFilteredStocks([...startsWithQuery, ...others].slice(0, 10));\r\n                        setIsDropdownOpen(true);\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"자동완성 데이터 로드 오류:\", error);\r\n                });\r\n        }\r\n    };\r\n\r\n    const handleSuggestionClick = (stock) => {\r\n        setQuery(stock[\"종목명\"]);\r\n        setIsDropdownOpen(false);\r\n        fetchData(stock[\"종목명\"]);\r\n        if (stock[\"종목코드\"]) fetchAnnualSales(stock[\"종목코드\"]);\r\n    };\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.key === \"Enter\") {\r\n            fetchData();\r\n        }\r\n    };\r\n\r\n    const resetState = () => {\r\n        setQuery(\"\");\r\n        setStocks([]);\r\n        setFilteredStocks([]);\r\n        setError(\"\");\r\n        setIsDropdownOpen(false);\r\n        setHighlightedStock(null);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const handleOutsideClick = (e) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(e.target)) {\r\n                setIsDropdownOpen(false);\r\n            }\r\n        };\r\n        document.addEventListener(\"mousedown\", handleOutsideClick);\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handleOutsideClick);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"search-page-container\">\r\n            <h2 onClick={resetState} style={{ cursor: \"pointer\", color: \"#007bff\", marginBottom: \"20px\" }}>\r\n                종목검색\r\n            </h2>\r\n\r\n            {/* 검색창 */}\r\n            <div style={{ position: \"relative\", width: \"100%\", maxWidth: \"600px\", marginBottom: \"20px\" }}>\r\n                <div style={{ display: \"flex\" }}>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"종목명 또는 종목코드 입력\"\r\n                        value={query}\r\n                        onChange={handleQueryChange}\r\n                        onKeyPress={handleKeyPress}\r\n                    />\r\n                    <button className=\"search-button\" onClick={() => fetchData()}>\r\n                        종목 검색\r\n                    </button>\r\n                </div>\r\n                {isDropdownOpen && (\r\n                    <div ref={dropdownRef} className=\"dropdown\">\r\n                        {filteredStocks.map((stock, index) => (\r\n                            <div\r\n                                key={index}\r\n                                className=\"dropdown-item\"\r\n                                onClick={() => handleSuggestionClick(stock)}\r\n                            >\r\n                                <span>{stock[\"종목명\"]}</span>\r\n                                <span style={{ marginLeft: \"10px\", color: \"gray\" }}>{stock[\"종목코드\"]}</span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {error && <p className=\"error-message\">{error}</p>}\r\n\r\n            {/* 상단 종목 정보 */}\r\n            {highlightedStock && (\r\n                <div className=\"highlighted-stock\">\r\n                    <h3>종목 정보</h3>\r\n                    <p>시장: {highlightedStock[\"시장\"] || \"N/A\"}</p>\r\n                    <p>종목코드: {highlightedStock[\"종목코드\"] || \"N/A\"}</p>\r\n                    <p>종목명: {highlightedStock[\"종목명\"] || \"N/A\"}</p>\r\n                    <p>업종명: {highlightedStock[\"업종명\"] || \"N/A\"}</p>\r\n                    <p>시가총액: {highlightedStock[\"시가총액\"] || \"N/A\"}</p>\r\n                    {highlightedStock.sales && (\r\n                        <div>\r\n                            <h4>연도별 매출액</h4>\r\n                            <ul>\r\n                                {highlightedStock.sales.map(([year, sales], index) => (\r\n                                    <li key={index}>\r\n                                        {year}: {sales.toLocaleString()}원\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* 데이터 테이블 */}\r\n            {stocks.length > 0 && (\r\n                <StockTable stocks={stocks} excludeKeys={[\"시장\", \"종목코드\", \"종목명\", \"업종명\", \"시가총액\"]} />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}