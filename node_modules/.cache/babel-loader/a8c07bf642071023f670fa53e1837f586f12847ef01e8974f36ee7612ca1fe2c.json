{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\redwh\\\\Desktop\\\\\\uAC1C\\uBC1C\\\\stock\\\\stockter\\\\front\\\\src\\\\components\\\\QuarterlyFinancialPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport SimpleTable from \"./SimpleTable\";\nimport \"../styles/QuarterlyFinancialPage.css\"; // 수정된 CSS 파일만 import\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuarterlyFinancialPage = () => {\n  _s();\n  const [stocks, setStocks] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [selectedQuarter, setSelectedQuarter] = useState(null);\n  const [currentMetric, setCurrentMetric] = useState(null);\n  const [showQuarterButtons, setShowQuarterButtons] = useState(false);\n\n  // PER/PBR 전용 정렬 상태 (\"top\" 또는 \"bottom\")\n  const [perDirection, setPerDirection] = useState(\"top\");\n  const [pbrDirection, setPbrDirection] = useState(\"top\");\n\n  // 데이터 가져오기\n  const fetchTopStocksByMetric = () => {\n    if (!currentMetric) return;\n    const apiUrl = \"https://port-0-stockter-back-m5or7nt39f4a0f5c.sel4.cloudtype.app/quarterly-financial\";\n    const params = {\n      quarter: selectedQuarter,\n      metric: currentMetric\n    };\n    if (currentMetric === \"PER\") {\n      params.order = perDirection;\n    } else if (currentMetric === \"PBR\") {\n      params.order = pbrDirection;\n    }\n    axios.get(apiUrl, {\n      params\n    }).then(response => {\n      if (response.data.error || response.data.stocks.length === 0) {\n        setError(`${currentMetric} 데이터가 없습니다.`);\n        setStocks([]);\n      } else {\n        setStocks(response.data.stocks);\n        setError(\"\");\n      }\n    }).catch(error => {\n      console.error(\"데이터 로드 중 오류 발생:\", error);\n      setError(\"서버와 연결할 수 없습니다.\");\n      setStocks([]);\n    });\n  };\n\n  // 버튼 클릭 동작\n  const handleButtonClick = metric => {\n    if (metric === \"PER\") {\n      setPerDirection(prev => prev === \"top\" ? \"bottom\" : \"top\");\n    } else if (metric === \"PBR\") {\n      setPbrDirection(prev => prev === \"top\" ? \"bottom\" : \"top\");\n    }\n    setCurrentMetric(metric);\n    setShowQuarterButtons(true);\n    setSelectedQuarter(\"2024-Q1\");\n  };\n\n  // 분기 버튼 클릭 동작\n  const handleQuarterButtonClick = quarter => {\n    setSelectedQuarter(quarter);\n  };\n\n  // 데이터 요청 트리거\n  useEffect(() => {\n    if (currentMetric && selectedQuarter) {\n      fetchTopStocksByMetric();\n    }\n  }, [selectedQuarter, currentMetric, perDirection, pbrDirection]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"financial-statements-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uBD84\\uAE30\\uBCC4 \\uC7AC\\uBB34\\uC81C\\uD45C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-group\",\n      children: [\"매출액\", \"영업이익\", \"영업이익률\", \"순이익률\", \"ROE\", \"EPS\", \"PER\", \"PBR\", \"시가배당률\"].map(metric => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleButtonClick(metric),\n        className: currentMetric === metric ? \"active\" : \"\",\n        children: metric === \"PER\" && currentMetric === \"PER\" ? `PER ${perDirection === \"top\" ? \"↑\" : \"↓\"}` : metric === \"PBR\" && currentMetric === \"PBR\" ? `PBR ${pbrDirection === \"top\" ? \"↑\" : \"↓\"}` : metric\n      }, metric, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), showQuarterButtons && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quarter-buttons\",\n      children: [\"2023-Q3\", \"2023-Q4\", \"2024-Q1\", \"2024-Q2\", \"2024-Q3\", \"2024-Q4\"].map(quarter => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleQuarterButtonClick(quarter),\n        className: selectedQuarter === quarter ? \"active\" : \"\",\n        children: quarter\n      }, quarter, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }, this), stocks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-container\",\n      children: /*#__PURE__*/_jsxDEV(SimpleTable, {\n        stocks: stocks,\n        columnTitle: `${currentMetric} (${selectedQuarter})` // 동적 제목\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(QuarterlyFinancialPage, \"GAJ6CAQZTCvlwVhHRK7iPwmPF0Y=\");\n_c = QuarterlyFinancialPage;\nexport default QuarterlyFinancialPage;\nvar _c;\n$RefreshReg$(_c, \"QuarterlyFinancialPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","SimpleTable","jsxDEV","_jsxDEV","QuarterlyFinancialPage","_s","stocks","setStocks","error","setError","selectedQuarter","setSelectedQuarter","currentMetric","setCurrentMetric","showQuarterButtons","setShowQuarterButtons","perDirection","setPerDirection","pbrDirection","setPbrDirection","fetchTopStocksByMetric","apiUrl","params","quarter","metric","order","get","then","response","data","length","catch","console","handleButtonClick","prev","handleQuarterButtonClick","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","columnTitle","_c","$RefreshReg$"],"sources":["C:/Users/redwh/Desktop/개발/stock/stockter/front/src/components/QuarterlyFinancialPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport SimpleTable from \"./SimpleTable\";\r\nimport \"../styles/QuarterlyFinancialPage.css\"; // 수정된 CSS 파일만 import\r\n\r\nconst QuarterlyFinancialPage = () => {\r\n  const [stocks, setStocks] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const [selectedQuarter, setSelectedQuarter] = useState(null);\r\n  const [currentMetric, setCurrentMetric] = useState(null);\r\n  const [showQuarterButtons, setShowQuarterButtons] = useState(false);\r\n\r\n  // PER/PBR 전용 정렬 상태 (\"top\" 또는 \"bottom\")\r\n  const [perDirection, setPerDirection] = useState(\"top\");\r\n  const [pbrDirection, setPbrDirection] = useState(\"top\");\r\n\r\n  // 데이터 가져오기\r\n  const fetchTopStocksByMetric = () => {\r\n    if (!currentMetric) return;\r\n\r\n    const apiUrl =\r\n      \"https://port-0-stockter-back-m5or7nt39f4a0f5c.sel4.cloudtype.app/quarterly-financial\";\r\n    const params = { quarter: selectedQuarter, metric: currentMetric };\r\n\r\n    if (currentMetric === \"PER\") {\r\n      params.order = perDirection;\r\n    } else if (currentMetric === \"PBR\") {\r\n      params.order = pbrDirection;\r\n    }\r\n\r\n    axios\r\n      .get(apiUrl, { params })\r\n      .then((response) => {\r\n        if (response.data.error || response.data.stocks.length === 0) {\r\n          setError(`${currentMetric} 데이터가 없습니다.`);\r\n          setStocks([]);\r\n        } else {\r\n          setStocks(response.data.stocks);\r\n          setError(\"\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"데이터 로드 중 오류 발생:\", error);\r\n        setError(\"서버와 연결할 수 없습니다.\");\r\n        setStocks([]);\r\n      });\r\n  };\r\n\r\n  // 버튼 클릭 동작\r\n  const handleButtonClick = (metric) => {\r\n    if (metric === \"PER\") {\r\n      setPerDirection((prev) => (prev === \"top\" ? \"bottom\" : \"top\"));\r\n    } else if (metric === \"PBR\") {\r\n      setPbrDirection((prev) => (prev === \"top\" ? \"bottom\" : \"top\"));\r\n    }\r\n\r\n    setCurrentMetric(metric);\r\n    setShowQuarterButtons(true);\r\n    setSelectedQuarter(\"2024-Q1\");\r\n  };\r\n\r\n  // 분기 버튼 클릭 동작\r\n  const handleQuarterButtonClick = (quarter) => {\r\n    setSelectedQuarter(quarter);\r\n  };\r\n\r\n  // 데이터 요청 트리거\r\n  useEffect(() => {\r\n    if (currentMetric && selectedQuarter) {\r\n      fetchTopStocksByMetric();\r\n    }\r\n  }, [selectedQuarter, currentMetric, perDirection, pbrDirection]);\r\n\r\n  return (\r\n    <div className=\"financial-statements-container\">\r\n      <h2>분기별 재무제표</h2>\r\n\r\n      {/* 정렬 기준 버튼 */}\r\n      <div className=\"button-group\">\r\n        {[\r\n          \"매출액\",\r\n          \"영업이익\",\r\n          \"영업이익률\",\r\n          \"순이익률\",\r\n          \"ROE\",\r\n          \"EPS\",\r\n          \"PER\",\r\n          \"PBR\",\r\n          \"시가배당률\",\r\n        ].map((metric) => (\r\n          <button\r\n            key={metric}\r\n            onClick={() => handleButtonClick(metric)}\r\n            className={currentMetric === metric ? \"active\" : \"\"}\r\n          >\r\n            {metric === \"PER\" && currentMetric === \"PER\"\r\n              ? `PER ${perDirection === \"top\" ? \"↑\" : \"↓\"}`\r\n              : metric === \"PBR\" && currentMetric === \"PBR\"\r\n              ? `PBR ${pbrDirection === \"top\" ? \"↑\" : \"↓\"}`\r\n              : metric}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* 분기 버튼들 */}\r\n      {showQuarterButtons && (\r\n        <div className=\"quarter-buttons\">\r\n          {[\"2023-Q3\", \"2023-Q4\", \"2024-Q1\", \"2024-Q2\", \"2024-Q3\", \"2024-Q4\"].map((quarter) => (\r\n            <button\r\n              key={quarter}\r\n              onClick={() => handleQuarterButtonClick(quarter)}\r\n              className={selectedQuarter === quarter ? \"active\" : \"\"}\r\n            >\r\n              {quarter}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {error && <p className=\"error-message\">{error}</p>}\r\n\r\n      {/* 데이터 테이블 */}\r\n      {stocks.length > 0 && (\r\n        <div className=\"table-container\">\r\n          <SimpleTable\r\n            stocks={stocks}\r\n            columnTitle={`${currentMetric} (${selectedQuarter})`} // 동적 제목\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuarterlyFinancialPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}